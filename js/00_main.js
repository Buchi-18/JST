// const lines = [
//   "3 6",
//   "10 1 1 2 2 3 3",
//   "10 0 0 6 1 7 2",
//   "10 0 0 7 5 8 3",
//   "1 1 2 2",
//   "1 2 3 2",
//   "1 3 2 3",
//   "2 2 3 1",
//   "2 3 3 1",
//   "1 2 3 2",
// ];
const lines = [
  "100 1000",
  "8 58 15 12 21 25 6",
  "77 41 3 57 19 38 14",
  "6 13 9 53 29 10 13",
  "45 51 2 43 1 57 14",
  "27 10 1 30 8 58 30",
  "8 17 9 19 12 47 23",
  "75 27 19 4 17 33 2",
  "50 8 1 49 6 15 18",
  "53 0 0 40 24 37 26",
  "71 55 22 12 27 11 23",
  "3 15 25 55 4 29 15",
  "27 19 3 1 24 4 30",
  "21 30 16 49 17 44 9",
  "42 10 10 9 14 57 25",
  "79 36 6 25 27 17 29",
  "91 10 7 59 10 11 12",
  "79 47 28 42 17 14 21",
  "90 50 20 24 19 59 18",
  "37 22 5 9 13 43 25",
  "78 11 25 57 11 53 16",
  "91 52 3 31 3 31 19",
  "17 2 9 9 27 24 1",
  "31 33 11 8 25 5 9",
  "82 21 25 22 15 20 5",
  "75 55 24 27 9 53 29",
  "63 54 5 44 17 2 26",
  "54 20 23 15 9 52 14",
  "66 48 22 15 11 40 24",
  "68 25 17 51 13 23 12",
  "84 36 6 25 1 47 22",
  "85 12 25 44 19 3 8",
  "100 47 8 33 12 49 10",
  "78 9 3 6 13 55 27",
  "44 4 21 14 18 56 29",
  "8 43 19 35 7 56 8",
  "7 14 5 40 10 13 12",
  "76 10 24 12 7 13 25",
  "27 11 2 50 19 43 12",
  "66 4 20 57 12 42 23",
  "95 42 26 57 2 17 30",
  "17 4 4 29 14 0 0",
  "97 24 21 39 22 25 10",
  "58 35 20 4 10 48 10",
  "48 47 10 9 28 32 27",
  "26 6 9 26 30 3 24",
  "37 8 15 14 23 30 6",
  "83 28 15 13 13 44 30",
  "22 8 26 8 7 0 0",
  "19 50 17 36 13 12 21",
  "13 17 1 10 8 5 5",
  "20 44 8 48 18 19 3",
  "33 20 28 4 13 50 6",
  "79 46 29 25 4 35 15",
  "69 4 3 60 24 37 9",
  "49 58 22 5 28 23 12",
  "83 22 17 14 25 49 28",
  "60 59 25 33 11 13 3",
  "43 40 18 11 30 31 18",
  "94 58 15 5 24 40 23",
  "47 11 8 37 12 59 13",
  "40 52 5 54 6 2 11",
  "71 31 22 35 1 10 3",
  "61 17 18 47 10 44 27",
  "76 58 16 42 17 3 3",
  "35 58 10 39 13 0 0",
  "5 7 11 2 25 24 7",
  "90 48 26 15 13 7 23",
  "74 44 2 35 19 8 12",
  "69 53 24 31 13 60 30",
  "12 34 9 48 4 41 29",
  "37 49 16 50 29 10 17",
  "90 9 28 29 10 1 20",
  "74 4 24 0 0 33 10",
  "2 47 30 0 0 56 15",
  "44 43 2 31 16 21 4",
  "49 42 21 13 28 9 25",
  "4 35 25 57 6 60 9",
  "4 60 22 24 27 32 9",
  "51 14 25 55 5 28 10",
  "44 57 15 0 0 30 10",
  "89 55 24 12 22 49 29",
  "66 7 14 26 20 10 26",
  "42 56 26 35 15 31 23",
  "32 60 24 50 23 12 6",
  "50 2 4 9 15 24 25",
  "51 58 18 60 30 1 25",
  "53 25 24 60 20 25 18",
  "72 56 15 13 21 10 27",
  "95 37 15 54 30 7 12",
  "41 23 18 8 18 60 3",
  "81 49 8 13 15 51 6",
  "40 10 6 49 28 19 28",
  "53 49 5 42 18 49 6",
  "44 20 17 30 15 13 30",
  "51 10 29 55 13 30 26",
  "82 34 19 49 26 7 28",
  "6 57 6 57 22 35 13",
  "50 10 11 9 2 51 16",
  "93 23 29 42 9 49 4",
  "1 32 20 36 4 25 17",
  "55 2 16 1",
  "23 3 39 3",
  "46 1 72 3",
  "94 3 50 2",
  "12 3 6 2",
  "23 3 60 1",
  "92 1 38 3",
  "9 1 27 2",
  "74 3 90 1",
  "15 1 38 2",
  "23 1 4 3",
  "37 2 65 3",
  "49 3 35 2",
  "20 2 96 1",
  "8 1 26 1",
  "29 3 43 2",
  "51 1 99 3",
  "52 1 39 1",
  "87 2 88 2",
  "92 2 38 3",
  "41 3 50 3",
  "45 2 24 3",
  "51 3 59 3",
  "69 1 18 2",
  "92 1 23 2",
  "98 3 13 2",
  "9 2 60 1",
  "94 1 47 3",
  "55 1 94 3",
  "49 3 70 1",
  "10 2 21 2",
  "7 1 43 2",
  "23 3 66 1",
  "85 1 61 3",
  "97 3 53 2",
  "51 3 74 2",
  "96 1 89 2",
  "64 3 99 3",
  "71 2 44 1",
  "89 1 11 3",
  "35 1 41 1",
  "95 1 92 1",
  "26 3 84 2",
  "13 2 43 3",
  "24 2 61 3",
  "79 1 52 3",
  "49 2 13 2",
  "38 2 2 3",
  "19 1 38 2",
  "87 2 80 3",
  "94 3 98 3",
  "72 1 54 2",
  "17 1 60 3",
  "86 2 81 1",
  "30 1 56 1",
  "23 2 11 1",
  "62 1 30 2",
  "97 2 80 3",
  "16 3 15 1",
  "36 3 59 2",
  "42 1 26 1",
  "35 3 74 1",
  "1 1 53 3",
  "100 3 77 3",
  "19 2 71 2",
  "78 2 19 3",
  "70 3 72 2",
  "67 3 44 2",
  "71 1 16 1",
  "76 1 85 1",
  "84 2 100 1",
  "85 2 31 3",
  "77 2 50 3",
  "88 3 79 1",
  "10 1 72 1",
  "73 3 4 2",
  "43 1 56 3",
  "73 1 2 3",
  "24 3 69 2",
  "5 2 49 2",
  "41 1 54 3",
  "47 1 78 3",
  "46 1 55 2",
  "55 1 18 1",
  "22 3 78 3",
  "25 1 51 2",
  "58 1 59 1",
  "7 1 55 2",
  "46 2 64 3",
  "99 3 69 1",
  "81 1 56 2",
  "47 2 29 1",
  "87 3 24 3",
  "62 1 54 3",
  "4 3 9 2",
  "16 1 48 2",
  "99 2 33 2",
  "38 3 97 3",
  "3 3 31 2",
  "19 1 24 2",
  "94 2 14 2",
  "55 3 72 1",
  "60 2 54 2",
  "89 1 41 1",
  "22 1 58 3",
  "88 1 4 2",
  "50 3 98 2",
  "93 1 6 2",
  "73 3 76 1",
  "6 2 81 3",
  "3 1 74 1",
  "95 3 62 1",
  "87 1 64 3",
  "32 2 46 3",
  "59 2 93 3",
  "32 1 98 2",
  "20 3 78 3",
  "26 2 47 3",
  "23 2 45 2",
  "78 3 73 1",
  "4 2 52 1",
  "92 2 53 1",
  "75 2 52 3",
  "90 3 55 2",
  "64 2 51 1",
  "99 2 87 2",
  "42 2 48 1",
  "12 1 80 3",
  "89 1 90 3",
  "55 2 47 3",
  "6 3 36 2",
  "60 2 96 1",
  "99 3 79 1",
  "27 2 100 2",
  "46 1 75 1",
  "29 1 55 1",
  "60 1 69 1",
  "84 3 17 3",
  "12 3 77 3",
  "85 1 20 3",
  "53 2 46 1",
  "79 3 57 3",
  "6 2 12 2",
  "69 1 62 3",
  "72 1 94 2",
  "40 1 16 2",
  "93 3 52 2",
  "35 3 7 2",
  "55 2 83 2",
  "86 2 90 1",
  "46 3 88 1",
  "71 1 70 1",
  "48 1 68 3",
  "36 3 1 3",
  "79 3 57 3",
  "23 2 32 2",
  "96 3 53 2",
  "33 3 30 2",
  "6 3 33 2",
  "73 3 54 1",
  "82 2 93 2",
  "57 1 32 3",
  "99 2 87 3",
  "82 2 42 1",
  "15 2 70 3",
  "97 2 53 3",
  "37 2 4 2",
  "51 3 83 3",
  "88 3 85 2",
  "85 1 39 1",
  "27 2 72 3",
  "9 2 62 3",
  "19 1 77 1",
  "61 2 67 2",
  "88 3 95 1",
  "62 1 50 2",
  "23 1 16 3",
  "76 1 99 3",
  "51 2 74 3",
  "45 3 71 2",
  "9 3 27 3",
  "88 2 5 3",
  "38 3 100 1",
  "51 3 42 2",
  "52 1 82 2",
  "63 1 75 1",
  "75 1 81 2",
  "47 2 9 3",
  "74 1 69 1",
  "8 2 6 1",
  "41 2 26 1",
  "14 3 5 2",
  "71 1 50 1",
  "30 1 21 1",
  "49 3 77 2",
  "17 3 10 1",
  "32 1 60 3",
  "30 3 66 1",
  "73 3 6 3",
  "32 1 38 1",
  "17 2 71 1",
  "41 3 82 1",
  "56 2 47 1",
  "50 2 41 2",
  "15 2 8 3",
  "95 1 61 3",
  "22 2 2 1",
  "38 3 41 3",
  "20 2 100 2",
  "45 2 13 1",
  "63 1 13 2",
  "31 3 11 3",
  "21 2 86 2",
  "34 3 37 3",
  "60 3 19 2",
  "25 3 79 3",
  "60 2 30 1",
  "44 3 76 3",
  "38 1 68 3",
  "22 3 7 3",
  "71 2 99 3",
  "42 1 74 3",
  "15 3 47 1",
  "49 3 55 1",
  "68 1 82 1",
  "51 1 66 3",
  "74 2 42 2",
  "46 1 69 3",
  "16 3 69 1",
  "25 2 63 1",
  "15 1 48 1",
  "89 1 38 1",
  "48 3 33 2",
  "33 3 97 1",
  "30 1 71 2",
  "32 1 72 3",
  "13 3 35 3",
  "78 1 29 2",
  "42 3 27 2",
  "27 2 89 2",
  "30 1 90 1",
  "13 2 79 2",
  "21 1 35 3",
  "37 1 66 3",
  "21 2 70 2",
  "25 2 6 1",
  "30 1 88 3",
  "28 3 64 3",
  "83 1 68 3",
  "45 2 84 1",
  "58 1 95 1",
  "47 1 69 3",
  "70 2 6 1",
  "86 3 38 2",
  "99 2 56 2",
  "39 3 26 1",
  "12 2 90 1",
  "85 3 77 1",
  "75 3 36 3",
  "46 2 96 3",
  "96 1 6 3",
  "58 1 33 1",
  "78 2 95 3",
  "24 3 76 3",
  "68 1 88 2",
  "83 2 81 1",
  "40 2 34 3",
  "35 1 65 1",
  "16 2 40 2",
  "23 3 70 3",
  "67 1 47 2",
  "23 3 61 1",
  "99 2 75 2",
  "37 1 12 3",
  "36 1 21 2",
  "11 1 66 2",
  "68 1 23 2",
  "75 1 34 1",
  "36 2 69 1",
  "39 3 46 1",
  "7 1 39 3",
  "6 2 57 3",
  "52 2 62 1",
  "81 2 82 2",
  "55 1 62 2",
  "89 3 45 3",
  "78 1 76 3",
  "68 3 98 3",
  "82 2 83 3",
  "52 1 41 2",
  "16 2 11 2",
  "49 3 98 1",
  "63 3 68 3",
  "74 1 73 3",
  "100 2 14 3",
  "65 3 71 1",
  "59 2 22 1",
  "46 1 78 1",
  "93 2 2 3",
  "96 2 95 3",
  "46 1 51 3",
  "1 3 49 3",
  "31 2 32 1",
  "8 2 15 1",
  "4 2 83 1",
  "44 2 5 3",
  "34 1 46 1",
  "26 1 9 3",
  "50 2 60 2",
  "15 2 10 2",
  "60 3 52 1",
  "76 1 87 3",
  "78 3 69 2",
  "73 1 43 2",
  "61 1 39 1",
  "93 3 57 1",
  "95 2 42 2",
  "99 2 66 2",
  "93 2 67 2",
  "31 1 32 3",
  "3 1 24 3",
  "99 3 4 1",
  "54 2 41 3",
  "66 3 91 1",
  "87 3 35 3",
  "76 2 69 1",
  "54 1 67 3",
  "56 2 55 1",
  "65 3 44 3",
  "92 3 65 3",
  "56 1 17 2",
  "60 1 18 2",
  "94 1 88 2",
  "19 1 67 1",
  "57 1 20 2",
  "71 2 97 1",
  "66 1 43 3",
  "87 2 5 1",
  "94 1 4 1",
  "7 2 85 3",
  "16 2 60 3",
  "48 1 55 2",
  "8 3 66 3",
  "65 3 52 2",
  "90 1 80 2",
  "92 3 61 3",
  "73 3 81 3",
  "45 3 67 3",
  "100 1 98 3",
  "66 2 3 3",
  "57 1 73 3",
  "91 2 55 2",
  "72 2 29 1",
  "8 2 51 1",
  "21 2 35 2",
  "25 1 91 1",
  "44 1 96 3",
  "16 2 76 2",
  "47 2 63 3",
  "88 3 55 3",
  "94 2 14 1",
  "69 3 23 3",
  "50 1 66 1",
  "2 1 78 1",
  "78 1 25 3",
  "35 2 51 1",
  "96 3 92 3",
  "97 1 3 3",
  "31 3 79 3",
  "42 3 97 2",
  "5 1 30 2",
  "18 2 52 3",
  "69 1 39 2",
  "37 1 45 2",
  "89 1 100 2",
  "27 3 95 2",
  "30 1 87 3",
  "98 3 66 1",
  "28 3 54 2",
  "52 2 57 1",
  "41 1 85 2",
  "78 1 38 3",
  "32 1 18 1",
  "41 1 10 3",
  "76 3 35 2",
  "22 3 69 2",
  "32 1 33 1",
  "21 2 67 2",
  "6 2 85 2",
  "86 1 53 3",
  "45 3 85 3",
  "68 2 71 2",
  "96 2 60 1",
  "14 1 7 3",
  "74 3 26 2",
  "50 1 29 1",
  "47 3 84 3",
  "39 2 87 3",
  "83 2 36 3",
  "19 3 51 1",
  "79 1 83 1",
  "53 1 56 2",
  "58 1 4 3",
  "5 3 63 2",
  "84 2 100 3",
  "32 1 27 3",
  "90 1 28 1",
  "33 3 29 1",
  "48 2 83 3",
  "26 3 11 1",
  "30 3 22 2",
  "6 1 100 1",
  "2 2 95 1",
  "55 1 24 2",
  "98 2 26 3",
  "98 3 13 3",
  "62 3 46 2",
  "33 1 88 2",
  "5 3 52 3",
  "43 1 42 1",
  "54 1 8 3",
  "52 1 77 2",
  "81 2 17 1",
  "14 2 60 1",
  "79 1 2 2",
  "58 3 100 3",
  "43 1 89 1",
  "68 2 2 2",
  "39 1 6 1",
  "67 3 49 3",
  "65 2 86 2",
  "85 2 64 2",
  "55 2 80 2",
  "58 1 96 1",
  "11 1 67 1",
  "39 3 62 2",
  "48 2 62 3",
  "71 3 77 2",
  "100 1 31 2",
  "10 1 60 3",
  "5 3 12 2",
  "35 1 33 1",
  "45 3 63 3",
  "20 2 46 2",
  "99 2 13 2",
  "19 3 68 1",
  "35 3 34 3",
  "5 3 97 1",
  "88 3 61 3",
  "59 1 94 3",
  "28 2 73 1",
  "35 1 13 2",
  "86 3 68 3",
  "94 2 92 1",
  "3 3 12 3",
  "17 3 22 3",
  "43 2 30 1",
  "12 1 26 1",
  "58 2 95 3",
  "7 2 29 3",
  "44 1 1 2",
  "69 1 24 2",
  "44 2 69 2",
  "34 2 23 2",
  "86 1 98 1",
  "24 1 50 2",
  "64 2 41 3",
  "18 1 14 3",
  "52 1 84 2",
  "6 1 1 1",
  "19 2 33 3",
  "45 1 47 3",
  "29 3 100 2",
  "75 1 22 3",
  "22 3 17 2",
  "9 1 3 3",
  "70 1 59 2",
  "30 1 31 2",
  "26 1 13 2",
  "52 2 47 3",
  "94 1 2 1",
  "8 1 26 3",
  "23 2 55 1",
  "93 2 26 3",
  "86 3 68 1",
  "95 3 80 3",
  "9 1 60 3",
  "33 1 95 1",
  "73 2 91 1",
  "5 1 22 3",
  "82 3 98 3",
  "51 1 83 2",
  "47 3 34 2",
  "9 1 30 1",
  "47 1 34 3",
  "45 2 51 2",
  "15 1 31 3",
  "14 1 94 2",
  "64 3 63 3",
  "57 2 70 2",
  "39 1 46 1",
  "80 3 78 3",
  "90 3 13 2",
  "1 2 57 1",
  "75 2 79 3",
  "74 3 52 2",
  "40 3 25 1",
  "89 3 47 1",
  "42 3 38 1",
  "84 2 91 1",
  "53 3 45 1",
  "48 2 50 2",
  "48 3 3 3",
  "11 2 63 2",
  "64 2 54 3",
  "36 2 72 1",
  "85 1 54 2",
  "57 2 11 2",
  "65 3 66 1",
  "51 2 86 1",
  "93 1 54 2",
  "24 2 55 1",
  "18 1 71 3",
  "52 1 56 1",
  "92 3 70 3",
  "13 3 66 1",
  "12 1 82 1",
  "4 1 84 3",
  "42 3 100 1",
  "54 2 78 1",
  "80 3 75 2",
  "26 3 64 3",
  "54 1 24 1",
  "64 1 18 1",
  "8 2 18 3",
  "3 1 28 1",
  "91 3 20 3",
  "48 2 51 2",
  "19 1 74 1",
  "65 3 80 3",
  "90 3 62 2",
  "100 2 33 2",
  "100 1 69 3",
  "15 3 38 1",
  "78 1 44 3",
  "77 2 43 2",
  "53 2 61 2",
  "46 3 23 2",
  "1 1 78 2",
  "52 1 50 1",
  "29 2 98 3",
  "60 3 7 2",
  "6 2 1 1",
  "77 3 86 3",
  "23 3 52 1",
  "21 2 32 3",
  "71 1 68 1",
  "86 3 61 3",
  "43 3 63 2",
  "92 2 1 2",
  "14 3 98 3",
  "78 1 54 1",
  "80 2 24 2",
  "58 3 63 2",
  "56 1 67 1",
  "55 3 1 2",
  "65 2 88 2",
  "79 2 50 2",
  "44 1 8 1",
  "93 1 78 2",
  "66 1 83 1",
  "74 2 14 2",
  "51 1 8 1",
  "1 1 96 3",
  "25 3 3 2",
  "30 2 59 3",
  "29 1 27 2",
  "19 1 7 2",
  "89 3 38 3",
  "57 2 76 2",
  "17 1 92 2",
  "2 2 44 1",
  "43 3 91 1",
  "91 3 69 2",
  "70 1 35 1",
  "30 2 3 3",
  "10 2 71 2",
  "70 2 96 3",
  "9 3 27 1",
  "35 2 83 3",
  "56 3 75 1",
  "20 2 65 1",
  "4 2 30 2",
  "58 2 49 3",
  "44 3 1 2",
  "96 1 42 1",
  "100 1 64 3",
  "47 3 48 2",
  "95 3 48 3",
  "86 3 16 3",
  "60 2 90 2",
  "41 2 19 3",
  "16 3 83 3",
  "59 1 60 1",
  "99 3 66 3",
  "78 1 75 2",
  "22 3 8 2",
  "97 2 8 1",
  "44 2 21 2",
  "2 2 51 2",
  "82 1 54 3",
  "44 2 78 1",
  "91 2 88 3",
  "63 2 97 3",
  "12 1 48 3",
  "39 1 100 3",
  "59 3 42 2",
  "80 1 33 1",
  "6 3 100 1",
  "69 2 54 1",
  "47 3 8 3",
  "84 3 91 2",
  "66 3 14 1",
  "66 1 43 1",
  "98 2 57 2",
  "24 3 6 2",
  "19 1 65 3",
  "90 2 73 2",
  "34 1 30 2",
  "57 3 87 1",
  "65 1 11 3",
  "43 3 98 1",
  "70 1 16 2",
  "60 3 84 1",
  "3 2 91 2",
  "11 3 20 2",
  "2 3 54 2",
  "88 3 16 3",
  "66 1 33 3",
  "46 1 8 2",
  "69 2 70 3",
  "55 3 60 2",
  "25 3 21 3",
  "54 2 52 2",
  "50 2 78 3",
  "87 1 14 2",
  "5 1 22 1",
  "19 2 96 3",
  "51 1 69 1",
  "17 3 6 3",
  "59 3 73 3",
  "72 1 79 3",
  "56 2 66 3",
  "36 3 34 1",
  "85 1 71 1",
  "14 1 23 1",
  "26 2 6 1",
  "8 1 40 3",
  "98 2 14 1",
  "48 3 52 1",
  "49 2 47 1",
  "5 3 12 2",
  "98 1 33 1",
  "30 3 98 3",
  "51 1 18 2",
  "13 2 85 3",
  "16 3 38 1",
  "47 3 88 1",
  "72 2 43 3",
  "37 3 57 1",
  "54 2 83 2",
  "36 2 73 1",
  "15 2 66 3",
  "86 2 13 2",
  "31 1 82 1",
  "12 3 67 2",
  "66 3 43 2",
  "88 1 87 2",
  "90 1 20 1",
  "27 3 76 1",
  "85 2 63 3",
  "78 1 85 2",
  "67 2 77 2",
  "38 2 30 2",
  "45 2 3 1",
  "48 2 72 1",
  "50 1 20 1",
  "46 1 28 3",
  "81 2 97 2",
  "23 2 67 2",
  "83 1 84 3",
  "65 3 66 3",
  "72 3 47 1",
  "65 3 78 2",
  "24 1 50 1",
  "18 2 19 1",
  "38 3 96 2",
  "98 2 83 2",
  "59 2 56 2",
  "66 3 44 1",
  "30 2 11 3",
  "99 3 3 1",
  "98 3 88 3",
  "51 3 32 1",
  "69 3 30 2",
  "21 2 72 2",
  "85 1 80 2",
  "57 1 83 2",
  "5 2 53 3",
  "18 2 7 1",
  "62 2 96 2",
  "87 1 57 1",
  "49 1 96 3",
  "89 2 63 3",
  "66 3 73 3",
  "41 2 52 1",
  "47 2 31 1",
  "38 1 75 2",
  "96 1 79 1",
  "75 1 22 1",
  "31 3 96 3",
  "92 1 75 2",
  "75 3 7 3",
  "49 2 32 1",
  "82 1 66 1",
  "24 2 58 3",
  "8 3 96 3",
  "25 3 87 2",
  "27 1 83 1",
  "4 2 84 2",
  "40 1 11 3",
  "48 2 81 2",
  "52 2 68 1",
  "37 3 39 2",
  "29 2 37 2",
  "28 3 56 1",
  "94 3 34 3",
  "79 2 74 3",
  "32 1 79 2",
  "84 1 56 1",
  "51 3 53 2",
  "39 3 52 2",
  "49 1 18 3",
  "10 2 44 1",
  "9 3 36 2",
  "18 3 19 1",
  "30 2 7 1",
  "2 2 71 1",
  "70 2 50 3",
  "59 1 42 3",
  "45 1 24 2",
  "97 2 24 1",
  "2 1 89 3",
  "5 1 61 1",
  "38 2 60 3",
  "29 2 7 1",
  "95 3 33 1",
  "48 1 9 2",
  "44 2 76 2",
  "30 3 62 2",
  "47 2 55 3",
  "15 1 27 1",
  "92 1 86 1",
  "52 1 99 1",
  "34 2 58 2",
  "100 2 9 1",
  "45 2 62 3",
  "56 1 6 1",
  "57 2 18 1",
  "31 3 67 3",
  "30 2 1 3",
  "59 1 83 2",
  "3 1 48 1",
  "73 1 75 1",
  "46 2 54 2",
  "79 2 23 3",
  "7 3 80 3",
  "4 2 5 2",
  "81 2 36 1",
  "67 2 73 3",
  "39 2 72 1",
  "53 3 91 2",
  "17 2 37 2",
  "23 2 31 3",
  "92 2 52 2",
  "30 3 82 1",
  "76 3 57 1",
  "71 3 96 3",
  "22 3 56 2",
  "99 2 71 1",
  "26 3 5 2",
  "1 1 38 2",
  "24 1 57 2",
  "54 1 21 3",
  "99 2 76 3",
  "99 1 63 1",
  "49 3 40 3",
  "5 2 45 3",
  "70 2 44 2",
  "81 3 35 2",
  "7 3 32 2",
  "51 2 41 1",
  "92 2 3 2",
  "15 2 91 1",
  "50 3 72 2",
  "43 3 2 2",
  "93 2 44 1",
  "36 3 89 2",
  "33 1 17 2",
  "73 3 63 2",
  "88 3 36 2",
  "13 1 18 3",
  "47 2 61 3",
  "44 2 63 1",
  "32 2 62 2",
  "81 2 91 2",
  "2 2 93 1",
  "18 1 19 2",
  "83 2 38 1",
  "72 1 93 2",
  "51 3 48 2",
  "64 1 45 3",
  "26 2 90 3",
  "67 3 18 1",
  "53 3 27 3",
  "2 1 67 1",
  "46 1 27 3",
  "69 1 6 2",
  "76 2 8 1",
  "96 1 73 1",
  "18 1 71 3",
  "87 2 68 3",
  "77 1 84 3",
  "4 1 33 3",
  "72 1 37 2",
  "57 2 1 2",
  "37 3 23 3",
  "69 3 10 3",
  "38 2 30 1",
  "81 1 72 3",
  "96 2 13 3",
  "10 1 19 3",
  "64 3 25 1",
  "51 1 60 3",
  "35 1 43 3",
  "13 1 21 2",
  "3 1 33 1",
  "46 3 10 1",
  "73 2 63 3",
  "87 3 99 1",
  "85 1 76 1",
  "96 2 78 3",
  "62 2 34 3",
  "9 2 26 2",
  "68 3 10 2",
  "100 3 7 2",
  "86 2 73 2",
  "51 2 56 1",
  "92 2 53 1",
  "18 3 4 2",
  "55 3 37 1",
  "62 2 83 1",
  "100 2 59 3",
  "68 3 75 3",
  "82 1 8 1",
  "100 3 58 1",
  "7 1 53 1",
  "14 3 40 1",
  "78 2 72 2",
  "34 3 97 3",
  "81 2 18 3",
  "93 1 83 3",
  "63 1 81 2",
  "3 2 47 2",
  "97 1 18 1",
  "46 1 87 1",
  "25 3 77 3",
  "21 2 29 3",
  "40 3 55 1",
  "63 1 100 1",
  "75 1 19 3",
  "69 2 98 2",
  "21 3 7 1",
  "91 1 5 3",
  "41 3 2 3",
  "91 1 76 1",
  "22 1 37 2",
  "78 1 45 1",
  "81 2 45 2",
  "6 1 79 3",
  "65 1 86 1",
  "45 3 89 3",
  "79 1 85 3",
  "31 1 74 3",
  "76 2 20 1",
  "17 3 47 3",
  "62 2 94 1",
  "62 1 30 3",
  "55 1 4 3",
  "61 3 98 2",
  "81 2 57 2",
  "10 2 71 1",
  "65 1 20 3",
  "84 1 67 3",
  "73 3 60 1",
  "93 2 2 3",
  "98 3 75 2",
  "12 2 79 3",
  "58 1 19 2",
  "11 2 53 1",
  "68 1 19 1",
  "74 2 10 2",
  "4 2 79 2",
  "99 2 59 2",
  "4 3 21 1",
  "13 3 98 1",
  "45 2 11 1",
  "59 1 15 1",
  "77 1 59 3",
  "34 2 35 1",
  "93 2 98 3",
  "92 3 95 2",
  "36 3 66 2",
  "60 1 67 2",
  "72 2 29 1",
  "15 1 30 3",
  "32 2 16 1",
  "38 1 3 2",
  "39 2 6 3",
  "6 1 82 3",
  "13 2 94 1",
  "36 1 91 2",
  "12 2 16 3",
  "39 1 62 2",
  "84 2 78 1",
  "24 1 44 3",
  "3 1 46 2",
  "92 1 61 3",
  "57 3 18 1",
  "9 3 60 2",
  "49 2 91 2",
  "54 2 1 3",
  "52 2 37 1",
  "61 1 85 1",
  "30 1 16 2",
  "70 3 59 3",
  "87 3 73 2",
  "2 3 89 1",
  "81 3 9 1",
  "5 3 47 3",
  "26 1 11 3",
  "24 3 49 1",
  "60 1 28 2",
  "54 3 95 1",
  "93 1 52 1",
  "19 2 58 2",
  "93 2 3 1",
  "61 3 21 2",
  "46 1 42 3",
  "77 1 90 2",
  "88 2 28 1",
  "4 3 64 2",
  "80 1 8 1",
  "14 1 30 3",
  "58 1 27 3",
  "91 2 92 1",
  "43 1 45 2",
  "7 2 60 2",
  "42 3 53 1",
  "76 3 66 3",
  "15 3 89 1",
  "28 2 1 1",
  "63 1 37 2",
  "71 1 51 1",
  "43 3 2 3",
  "98 3 43 1",
  "55 1 25 3",
  "9 1 41 2",
  "12 3 31 1",
  "22 1 94 2",
  "79 1 78 2",
  "54 3 31 1",
  "55 2 9 2",
  "93 2 17 1",
  "58 3 11 2",
  "92 1 89 2",
  "64 1 24 2",
  "33 1 22 2",
  "32 2 3 1",
  "98 3 47 3",
  "11 1 16 2",
  "67 2 39 2",
  "28 3 35 1",
  "98 1 83 2",
  "57 2 28 1",
  "68 3 84 1",
  "3 2 73 1",
  "27 2 64 3",
  "63 2 62 1",
  "13 3 34 3",
];

const [playerNum, turn] = lines[0].split(" ").map(Number);

const playerData = lines.slice(1, 1 + playerNum).map((data, i) => {
  const [HP, frame_1, attack_1, frame_2, attack_2, frame_3, attack_3] = data
    .split(" ")
    .map(Number);

  return {
    playerId: i + 1,
    HP,
    attack: [
      [frame_1, attack_1],
      [frame_2, attack_2],
      [frame_3, attack_3],
    ],
  };
});

const commandArr = lines
  .slice(1 + playerNum)
  .map((command) => command.split(" ").map(Number));

//
//コマンド一覧
console.log(commandArr);

function getRoundFight() {
  let player_A;
  let player_B;

  for (let i = 0; i < commandArr.length; i++) {
    const playerNum_A = commandArr[i][0];
    const playerNum_B = commandArr[i][2];
    let commandNum_A = commandArr[i][1] - 1;
    let commandNum_B = commandArr[i][3] - 1;
    player_A = playerData.find((player) => player.playerId === playerNum_A);
    player_B = playerData.find((player) => player.playerId === playerNum_B);

    let frame_A = player_A.attack[commandNum_A][0];
    let frame_B = player_B.attack[commandNum_B][0];

    //
    //Player_Aの技が強化系の場合
    if (frame_A === 0) {
      for (let j = 0; j < player_A.attack.length; j++) {
        let frame = player_A.attack[j][0];
        let attack = player_A.attack[j][1];
        player_A.attack[j][0] = frame > 1 ? frame - 3 : frame;
        player_A.attack[j][1] = attack > 0 ? attack + 5 : attack;
      }
      if (frame_B !== 0) {
        player_A.HP =
          player_A.HP > 0
            ? (player_A.HP -= player_B.attack[commandNum_B][1])
            : 0;
      }
    }

    //
    //Player_Bの技が強化系の場合
    if (frame_B === 0) {
      for (let k = 0; k < player_B.attack.length; k++) {
        let frame = player_B.attack[k][0];
        let attack = player_B.attack[k][1];
        player_B.attack[k][0] = frame > 1 ? frame - 3 : frame;
        player_B.attack[k][1] = attack > 0 ? attack + 5 : attack;
      }

      if (frame_A !== 0) {
        player_B.HP =
          player_B.HP > 0
            ? (player_B.HP -= player_A.attack[commandNum_A][1])
            : 0;
      }
    }

    if (frame_A < frame_B) {
      let damage_B = player_A.attack[commandNum_A][1];
      player_B.HP =
        player_B.HP > 0 && player_B.HP > damage_B
          ? (player_B.HP -= damage_B)
          : 0;
    } else if (frame_A > frame_B) {
      let damage_A = player_B.attack[commandNum_B][1];
      player_A.HP =
        player_A.HP > 0 && player_A.HP > damage_A
          ? (player_A.HP -= damage_A)
          : 0;
    }
  }
  return playerData;
}

function getSurvivor() {
  const survivors = [];
  getRoundFight().forEach((player) => {
    if (player.HP > 0) {
      survivors.push(player);
    }
  });

  return survivors;
}

//生存者の人数を出力
console.log(getSurvivor().length);
